function chkMaskCURRENCY(field,event){var keyCode=(_dom==1||_dom==2?window.event.keyCode:event.which);var key=String.fromCharCode(keyCode);var isKey=(String('-0123456789').indexOf(key)!=-1);var isAction=(String('0,8,13').indexOf(keyCode)!=-1||event.ctrlKey);var negative=false;var fieldValue=field.value;var newValue="";if((parseFloat(fieldValue)<0)||(field.value.charAt(0)=="-"))negative=true;if(!isKey&&!isAction)return false;else if(isAction)return true;else if(field.value.length==field.maxLength)return false;else if((key=="-")&&(field.value.length>0))return false;else{fieldValue=field.value.replace(",","");fieldValue=fieldValue.replace("-","");while(fieldValue.indexOf('.')!=-1)fieldValue=fieldValue.replace(".","");var inicio=fieldValue.substr(0,((fieldValue.length-1)%3));var centavos=fieldValue.substr(fieldValue.length-1,1);var resto=fieldValue.substr(((fieldValue.length-1)%3),fieldValue.length-1-((fieldValue.length-1)%3));if(negative)newValue=newValue+"-";if(inicio!="")newValue=newValue+inicio;for(i=0;i<resto.length;i++){if(((i>0)&&((i%3)==0))||((i==0)&&(inicio!="")))newValue=newValue+'.';newValue=newValue+resto.charAt(i);}if(fieldValue.length>=2)newValue=newValue+',';newValue=newValue+centavos;field.value=newValue;}}function chkCURRENCY(field){if(field.value.length==1)return false;if(field.value.length==2){if(field.value.charAt(0)=="-")field.value="-0,0"+field.value.charAt(1);else field.value="0,"+field.value;}if((field.value.length==3)&&(field.value.charAt(0)=="-"))field.value="-0,"+field.value.substring(1,3);var strRegExp="";var size=field.value.length;if(field.value.charAt(0)=='-')size--;var start=(size-3)%4;var rest=size-start-3;if(size==0){return true;}else{strRegExp="/^\-?\\d{"+start+"}";for(var i=0;i<rest;i=i+4)strRegExp=strRegExp+"(\\.)\\d{3}";strRegExp=strRegExp+"(\\,)\\d{2}$/";eval("var objRegExp = "+strRegExp);if(objRegExp.test(field.value))return true;else return false;}}